apply plugin: 'java'
apply plugin: 'application'

mainClassName = 'SimpleTestMailServer'

version = '1.0'
sourceCompatibility = 1.7
targetCompatibility = 1.7

dependencies {
   compile 'dumbster:dumbster:1.6'
   compile 'javax.mail:mail:1.4'
   compile 'javax.activation:activation:1.1'
   compile fileTree(dir: 'lib', include: '*.jar')
}

repositories {
    mavenCentral()
}

jar {
    baseName = 'simple-test-mail-server'
    version =  '1.0.0'

    manifest {
    	attributes (
    		'Main-class': 'com.liferay.simple.test.mail.server.SimpleTestMailServer',"Class-Path": configurations.compile.collect { it.getName() }.join(' ')
		)
    }

    from {
    configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
  }
}